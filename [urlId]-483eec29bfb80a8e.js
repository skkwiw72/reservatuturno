(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9539],{48622:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[urlId]",function(){return c(18940)}])},48278:function(a,b,c){"use strict";var d=c(85893),e=c(60536),f=c.n(e);c(67294);var g=c(15342),h=c(25617),i=c(57966),j=c(39343),k=function(a){var b=a.mb,c=a.fromAgenda,e=(0,g.Z)({form:"cart"}),k=e.formState,l=k.appointments,m=k.price,n=k.discountAmount,o=k.reservationCost,p=k.currency,q=k.countryLocale,r=e.setFormProperties,s=(0,h.I0)();if((null==l?void 0:l.length)===0)return(0,d.jsx)(d.Fragment,{});var t=o>(m-n||0)?m-(n||0):o;(0,j.Z)({locale:q,forceLocale:!0,currencyCode:p,amount:t});var u=(0,j.Z)({locale:q,forceLocale:!0,currencyCode:p,amount:m-n}),v=(null==l?void 0:l.length)===1?"":"s";return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{style:{marginBottom:void 0===b?"0":b},onClick:function(){r({data:{show:!0}}),s((0,i.$Z)({modal:"appointment-to-be-reserved"}))},className:"jsx-a9e46ebc43015609 cart-btn df aic jcsb pl10 pr10 bcblue bs cwhite br5 w95p df aic jcc fs13 cursorp",children:[(0,d.jsxs)("div",{className:"jsx-a9e46ebc43015609  df aic ",children:[(0,d.jsx)("i",{className:"jsx-a9e46ebc43015609 far fa-shopping-cart mr10 fs15 mt2"}),(0,d.jsxs)("div",{className:"jsx-a9e46ebc43015609 df fdc mt7 mb7",children:[(0,d.jsxs)("span",{className:"jsx-a9e46ebc43015609  ",children:["Detalle de ",c?"la":"tu"," reserva"]})," ",(0,d.jsxs)("small",{className:"jsx-a9e46ebc43015609 cgold fs10",children:[null==l?void 0:l.length," servicio",v," agregado",v]})]})]}),(0,d.jsx)("div",{className:"jsx-a9e46ebc43015609",children:(0,d.jsx)("p",{className:"jsx-a9e46ebc43015609",children:u})})]}),(0,d.jsx)(f(),{id:"a9e46ebc43015609",children:".cart-btn.jsx-a9e46ebc43015609{width:100%;-webkit-box-shadow:0 .53px 3px rgba(0,0,0,.2);-moz-box-shadow:0 .53px 3px rgba(0,0,0,.2);box-shadow:0 .53px 3px rgba(0,0,0,.2)}@media screen and (max-width:700px){.cart-btn.jsx-a9e46ebc43015609{max-width:95%}}"})]})};b.Z=k},18940:function(a,b,c){"use strict";c.r(b),c.d(b,{"__N_SSP":function(){return E}});var d=c(85893),e=c(60536),f=c.n(e),g=c(9008),h=c.n(g),i=c(11163),j=c(25617),k=c(13288),l=c(95061),m=c(92235),n=c(48470),o=c(15474),p=c(37238),q=c(273),r=c(18804),s=c(68082),t=c(60559),u=c(97564),v=c(76354),w=c(73860),x=c(15342),y=c(67294),z=c(57966),A=c(47004),B=c(73097),C=c(48278),D=function(a){var b,c,e,g,i=a.router,D=a.geoCountry,E=i.query.urlId,F=(0,j.v9)(function(a){return null==a?void 0:a.auth}).user,G=(0,k.ZP)((null==F?void 0:F.sub)?"/users/".concat(F.sub):null),H=G.data,I=(0,x.Z)({form:"cart",shouldCleanForm:!0}),J=I.formState.appointments,K=(0,x.Z)({form:"appointment",shouldCleanForm:!0}),L=K.formState,M=L.selectedDate,N=L.selectedDay,O=L.selectedMonth,P=L.selectedYear,Q=L.selectedMember,R=L.hoursBlockedByDay,S=L.service,T=L.loading,U=K.setFormProperties,V=(0,x.Z)({form:"company"}),W=V.setFormProperties,X=(0,k.ZP)(E?"/companies/info-for-appointments/".concat(E):null,{onSuccess:function(a){var b,c,d,e=(null==a?void 0:null===(b=a.company)|| void 0===b?void 0:b.reservationsConfig)||{},f=e.maxDaysInFuture,g=e.minAnticipationRequired,h=e.minimumAmount,i=e.fee;W({data:{_id:null==a?void 0:null===(c=a.company)|| void 0===c?void 0:c._id,maxDaysInFuture:f,minAnticipationRequired:g,fee:i,minimumAmount:h,hourBlocksToShow:null==a?void 0:null===(d=a.company)|| void 0===d?void 0:d.hourBlocksToShow}}),U({data:{companyName:a.company.name,countryName:a.company.countryName}})}}).data,Y=(0,A.Z)(null==S?void 0:S._id,null==S?void 0:S.frequencyType,null==Q?void 0:Q.differentStore,null==Q?void 0:Q.stores[0]._id,!1),Z=null==J?void 0:J.some(function(a){var b;return(null==a?void 0:null===(b=a.service)|| void 0===b?void 0:b.modality)==="A domicilio"});(0,k.ZP)(Q?"/members/appointments/".concat(null==Q?void 0:Q._id,"?").concat(Y):null,{onSuccess:function(a){console.log({data:a}),U({data:{resourcesNeeded:null==a?void 0:a.resourcesNeeded,hoursBlockedByDay:null==a?void 0:a.hoursBlockedByDay,hoursBlockedByDayDetail:a.hoursBlockedByDayDetail,hoursUsedByResourcesByDay:a.hoursUsedByResourcesByDay,workingDaysChanges:a.workingDaysChanges,hoursBlockedByServiceEventByDay:null==a?void 0:a.hoursBlockedByServiceEventByDay,isBeingCreatedByMember:!1,hasFreeBooking:a.hasFreeBooking,recurrences:a.recurrences}}),(0,B.Z)(null==a?void 0:a.hoursBlockedByDay,N,O,null==a?void 0:a.resourcesNeeded,null==a?void 0:a.hoursUsedByResourcesByDay)}});var $=(0,j.I0)();if((0,y.useEffect)(function(){$((0,z.$Z)({modal:"service"}))},[]),!X)return(0,d.jsx)(w.Z,{changeColor:!0,height:"100vh",width:"100%"});var _=X||{},aa=_.company,ab=aa.reservationsConfig,ac=ab.maxDaysInFuture,ad=ab.minAnticipationRequired,ae=ab.minimumAmount,af=aa.hourBlocksToShow,ag=_.requireReservation,ah=null==J?void 0:J.filter(function(a){return a.selectedDay===N&&a.selectedMonth===O&&a.selectedYear===P}).map(function(a){var b;return{hoursBlocked:Array(Math.ceil(Math.max(a.service.duration,a.service.blockingMinutes)/15)).fill(0).map(function(b,c){return a.selectedHourBlock+c}),selectedMember:a.selectedMember,selectedHourBlock:a.selectedHourBlock,serviceFrequencyType:null===(b=a.service)|| void 0===b?void 0:b.frequencyType}}),ai=X.company.reservationsConfig.showPriceOnServices;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"jsx-f2414dde787deac",children:[(0,d.jsxs)(h(),{children:[(0,d.jsxs)("title",{className:"jsx-f2414dde787deac",children:[null===(b=X.company)|| void 0===b?void 0:b.name," | Nuevo turno"]}),(0,d.jsx)("meta",{name:"description",content:(null===(c=X.company)|| void 0===c?void 0:c.slogan)||"Desde esta p\xe1gina podr\xe1s sacar turno con ".concat(null===(e=X.company)|| void 0===e?void 0:e.name,"."),className:"jsx-f2414dde787deac"}),(0,d.jsx)("link",{rel:"icon",href:null===(g=X.company)|| void 0===g?void 0:g.logoUrl,className:"jsx-f2414dde787deac"}),(0,d.jsx)("meta",{property:"og:title",content:"TuTurno.io | App para la gesti\xf3n de turnos",className:"jsx-f2414dde787deac"}),(0,d.jsx)("meta",{property:"og:description",content:"Software de gesti\xf3n de turnos para emprendimientos como Peluquer\xedas, Barber\xedas, Centros de est\xe9tica, entre otros. Liquidaci\xf3n autom\xe1tica de sueldos, gesti\xf3n de caja, informes, recordatorios v\xeda email y whatsapp a tus clientes, y muchos m\xe1s!",className:"jsx-f2414dde787deac"}),(0,d.jsx)("meta",{property:"og:url",content:"https://www.tuturno.io/",className:"jsx-f2414dde787deac"}),(0,d.jsx)("meta",{property:"og:image",content:"https://tuturno.blob.core.windows.net/tuturno/sharing-banner.png",className:"jsx-f2414dde787deac"}),(0,d.jsx)("meta",{name:"twitter:title",content:"TuTurno.io",className:"jsx-f2414dde787deac"}),(0,d.jsx)("meta",{name:"twitter:description",content:"Software de gesti\xf3n de turnos para emprendimientos como Peluquer\xedas, Barber\xedas, Centros de est\xe9tica, entre otros.",className:"jsx-f2414dde787deac"}),(0,d.jsx)("meta",{name:"twitter:image",content:"https://tuturno.blob.core.windows.net/tuturno/sharing-banner.png",className:"jsx-f2414dde787deac"}),(0,d.jsx)("meta",{name:"twitter:card",content:"summary",className:"jsx-f2414dde787deac"}),(0,d.jsx)("link",{rel:"icon",href:"/calendar.svg",className:"jsx-f2414dde787deac"})]}),(0,d.jsx)(s.Z,{text:"NUEVO TURNO",company:X.company,height:"4.4rem",minHeight:"55px",minHeightMobile:"55px"}),(0,d.jsx)(u.Z,{padding:"0 0 1rem 0 !important",paddingOnMobile:"0 0 1rem 0 !important",styles:{marginTop:"0.5rem"},children:(0,d.jsxs)("div",{className:"jsx-f2414dde787deac df fdc jcc aic appointment-form",children:[(0,d.jsx)(C.Z,{}),(0,d.jsx)(o.Z,{isForClient:!0,marginTop:"0.5rem",showPrices:ai}),(0,d.jsx)(n.Z,{showPrices:ai}),Q&&(!R||T)&&(0,d.jsx)(w.Z,{changeColor:!0,height:"5.4rem",marginTop:"5rem"}),Q&&R&&!T&&(0,d.jsx)(l.Z,{maxDaysInFuture:ac,minAnticipationRequired:ad,appointments:J}),M&&(0,d.jsx)(m.Z,{hourBlocksToShow:af,hoursBlockedByCartAppointments:ah}),(0,d.jsx)(v.Z,{modal:"service",top:"8%",slideIn:!0,children:(0,d.jsx)(q.Z,{services:null==X?void 0:X.services,categories:null==X?void 0:X.categories,showPrices:ai,isForClient:!0})}),(0,d.jsx)(v.Z,{modal:"professional",top:"8%",slideIn:!0,children:(0,d.jsx)(p.Z,{form:"appointment",asMember:!1,showPrices:ai,isForClient:!0})}),(0,d.jsx)(t.Z,{minimumAmount:ae,requireReservation:ag,company:X.company,hasAtHomeService:Z,text:"Ir a reservar",isForClient:!0,userWhatsapp:null==X?void 0:X.userWhatsapp,geoCountry:D,userFromDB:H})]})}),(0,d.jsx)(r.Z,{})]}),(0,d.jsx)(f(),{id:"f2414dde787deac",children:".appointment-form.jsx-f2414dde787deac{width:100%;max-width:30rem}.socials-container.jsx-f2414dde787deac{position:fixed;right:1rem;bottom:1.5rem;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-top:.2rem;margin-bottom:.5rem}.tuturno-container.jsx-f2414dde787deac{background-color:var(--black);color:white;padding:.5rem .4rem;border:none;-webkit-border-radius:.3rem;-moz-border-radius:.3rem;border-radius:.3rem;position:fixed;left:1rem;bottom:1.5rem;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-top:.2rem;margin-bottom:.5rem}.tuturno-container.jsx-f2414dde787deac span.jsx-f2414dde787deac{font-size:1.3rem}.tuturno-container.jsx-f2414dde787deac:hover{cursor:pointer}.tuturno-container.jsx-f2414dde787deac:hover>span.jsx-f2414dde787deac>span.jsx-f2414dde787deac{text-decoration:underline}@media screen and (max-width:800px){.socials-container.jsx-f2414dde787deac{position:fixed;right:1rem;bottom:0;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin-top:.2rem;margin-bottom:.5rem}.tuturno-container.jsx-f2414dde787deac{background-color:var(--black);color:white;padding:.2rem .4rem;border:none;-webkit-border-radius:.3rem;-moz-border-radius:.3rem;border-radius:.3rem;position:fixed;left:.5rem;bottom:0;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-top:.2rem;margin-bottom:.5rem}.tuturno-container.jsx-f2414dde787deac span.jsx-f2414dde787deac{font-size:1rem}}"})]})},E=!0;b.default=(0,i.withRouter)(D)}},function(a){a.O(0,[7887,2778,5935,5559,4538,4183,2229,5209,8082,9997,2358,3596,1611,9233,1905,3611,9774,2888,179],function(){var b;return a(a.s=48622)}),_N_E=a.O()}])